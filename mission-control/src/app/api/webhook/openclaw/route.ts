[{"next/server": "import { database"}, ["add", "create", "make", "build", "setup", "fix", "update", "task", "todo", "remind"], {"high": "b(urgent|asap|critical|important|priority|emergency)\b/i", "low": "b(eventually|maybe|someday|later|low priority)\b/i"}, [{"name": "Mission Control", "pattern": "b(mission control|dashboard|kanban|mission-control)\b/i"}, {"name": "Moto", "pattern": "b(moto|motorcycle|dirtbike|bike|tire|riding)\b/i"}, {"name": "OpenClaw", "pattern": "b(openclaw|open'?s?s*claw|webhook|integration)\b/i"}, {"name": "Personal", "pattern": "b(personal|life|home|family|doctor|health)\b/i"}], {"message": "string;\n  role: 'user' | 'assistant' | 'system';\n  metadata?: {\n    message_id?: string;\n    channel?: string;\n    sender_id?: string;\n    sender_name?: string;\n    timestamp?: string;\n    [key: string]: unknown;"}, {"shouldCreate": "boolean;\n  title: string;\n  project: string | null;\n  priority: string;"}, {"result": "TaskDetection = {\n    shouldCreate: false", "title": "", "project": null, "priority": "medium"}, {"\\s+(.+?)(?:\\.|$)', 'i": "const match = message.match(pattern);\n    if (match) {\n      result.title = match[1].trim();\n      foundKeyword = true;\n      break;"}, {"high": ""}, {"low": ""}, {"body": "WebhookPayload = await request.json();\n    const { message", "success": false, "error": "Missing required fields: message, role"}, {"status": 400}, {"unknown": "const sender_id = metadata?.sender_id || null;\n    const sender_name = metadata?.sender_name || null;\n    const timestamp = metadata?.timestamp || new Date().toISOString();\n\n    // Store conversation\n    const conversation = database.conversations.create({\n      message_id", "content": "message", "metadata": "metadata ? JSON.stringify(metadata) : null"}, {"title": "detection.title", "description": "Auto-created from conversation:", "...": ""}, {"success": true, "conversation_id": "conversation.id", "task_created": "taskCreated", "task_id": "taskId"}, {"error": ", error);\n    return NextResponse.json(\n      { success: false, error: error.message },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function GET() {\n  return NextResponse.json({\n    success: true,\n    message: 'OpenClaw webhook endpoint is active", "endpoints": {"POST": "/api/webhook/openclaw"}, "payload": {"message": "string (required)", "role": "user | assistant | system (required)", "metadata": {"message_id": "string (optional)", "channel": "string (optional)", "sender_id": "string (optional)", "sender_name": "string (optional)", "timestamp": "ISO date string (optional)"}}}]